{
  "gitSyncId": "686bbf135dd1861a2c0bf90b_d391f32c-2c81-4c9a-be22-a71e02eed555",
  "id": "Daikin Delivery Schedule_update_schedule_entry",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "-- This query now updates the central DESPATCH_PLANS table.\nUPDATE public.despatch_plans\nSET\n  -- Map the Daikin app's inputs to the correct columns in the despatch_plans table\n  planned_delivery_date = {{ Delivery_Date.selectedDate || NULL }},\n  consignment_reference = {{ Booking_Reference.text || NULL }}\n  -- Note: delivery_notes does not have a corresponding field in despatch_plans.\n  -- You could add it, or map it to a notes system if needed.\nWHERE\n  -- This subquery is the key: it finds the correct plan to update.\n  -- It links the daikin row's unique_id to the production_schedule's UniqueID,\n  -- then finds the production_schedule's id to match the plan.\n  production_schedule_id = (\n\t\tSELECT id \n\t\tFROM public.production_schedule \n\t\tWHERE \"UniqueID\" = '{{ Daikin_Delivery_Schedule.triggeredRow.unique_id }}'\n\t);",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "SupabaseDB",
      "isAutoGenerated": false,
      "name": "SupabaseDB",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "update_schedule_entry",
    "pageId": "Daikin Delivery Schedule",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}